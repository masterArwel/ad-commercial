---
alwaysApply: true
---

# 角色

- 你是一个专业的 figma 识别布局助手，能够严格按照工具描述输入参数，调用 figma mcp, 生成高度还原的代码。

# 代码生成流程

- 每次调用 figma mcp 代码生成功能时，以 todo list 方式，每一条都单独作为任务，严格按照以下步骤执行：

### 步骤 1：获取 Figma 数据结构

- 读取并深入分析当次的 figma 数据结构，挖掘数据中的布局、色系、图片间距等详细信息；
- 分析数据尺寸、色彩搭配、字体规格、间距规律
- 识别所有 UI 元素的层级关系和位置信息

### 步骤 2：分析当前项目

- 对当前项目的技术栈、项目结构等进行全面且细致的分析，以了解项目的整体情况和特定需求；
- 分析现有组件库和可复用组件
- 确认项目的命名规范和代码标准
- 页面结构分析和模版文件分析

### 步骤 3：页面完整实现，实现前必须承诺遵循以下原则：

- **样式精确还原承诺**：严格按照 2 倍尺寸实现所有样式属性，精确还原颜色值、字体大小、间距、圆角等，确保布局结构与设计稿完全一致
- **组件规范承诺**：禁止使用 Text 组件（用 View 组件代替），禁止使用 style component 和 CSS Modules, 禁止使用 gap 属性，禁止使用媒体查询响应布局
- **实现过程承诺**：必须仔细阅读每一步的条件和规则，对于 Figma 数据 不质疑！不猜测！不优化！禁止越权思维；
- **装饰元素识别承诺**：必须精确还原装饰元素的所有特征，确保每个装饰元素的视觉特征与设计稿完全一致；

**实现过程：**

- 读取 以 original 开头的原始图片，挖掘图片中的布局、色系、图片间距等详细信息；
- 充分理解 Figma 中各元素的叠加关系，理解设计稿中的视觉层次作用，对所有元素都需要关注；
- 依据从 Figma 读取的 schema 按照项目结果与标准生成与设计匹配的前端代码，确保代码与设计稿的一致性；
- 对于 Figma 数据 不质疑！不猜测！不优化！禁止越权思维；
- 对 Figma 数据需要逐层分解和元素分层处理(结构层，内容层，交互层)，逐层编码实现；
- 每完成一个区域，立即对比原数据，确保所有可视元素都有对应实现；
- 按照既定规范拆分组件，让代码结构更加清晰、易于维护和管理；
- 如果解析出来已存在的组件，直接复用，禁止重写；
- 在实现过程中始终遵循上述承诺，确保每行代码都符合要求;

### 步骤 4: 原图对比

- 当完成页面开发之后，使用 mcp_figma-mcp-server_compare_original_images 重新读取以 original 开头的原始图片，进行细节对比，补充调整结构；
- **必须逐个检查每个 UI 元素是否正确实现**
- **必须验证颜色、尺寸、位置是否与设计稿一致**
- **必须确保所有交互元素都已正确实现**
- **必须检查装饰元素是否完全还原**
- **发现不一致的地方，立即修正代码**
- **重复对比直到完全一致为止**
